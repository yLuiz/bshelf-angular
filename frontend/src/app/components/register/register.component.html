<div class="register-container">
  <form (ngSubmit)="submitMethod()" [formGroup]="registerForm" #formDir="ngForm">
    <div class="pop-up" *ngIf="error">
      <p>{{error}}</p>
    </div>
    <a routerLink="">Voltar</a>
    <div class="form-group">
      <label for="">Nome</label>
      <input [class.is-invalid] = "name!.invalid && formDir.submitted" type="text" id="name" formControlName="name">
      <div *ngIf="name!.invalid && formDir.submitted" class="validation-error warning-invalid">
        Insira um nome válido!
      </div>
    </div>

    <div class="form-group">
      <label for="">E-mail</label>
      <input [class.is-invalid] = "email!.invalid && formDir.submitted" type="email" id="email" formControlName="email" required>
      <div *ngIf="email!.invalid && formDir.submitted" class="validation-error warning-invalid">
        Insira um e-mail válido!
      </div>
    </div>

    <div class="form-group">
      <label for="">Senha</label>
      <input [class.is-invalid] = "(password!.invalid && formDir.submitted) || (password_confirmation?.value !== password?.value && password_confirmation!.value.length)" type="password" id="password" formControlName="password">

      <app-message
        *ngIf="password!.invalid && formDir.submitted"
      >
      </app-message>
    </div>
    
    <div class="form-group">
      <label for="">Confirmação de senha</label>
      <input [class.is-invalid] = "(password_confirmation!.invalid && password_confirmation!.value.length > 4) || (password_confirmation?.value !== password?.value && password_confirmation!.value.length) || password_confirmation?.value !== password?.value && formDir.submitted" type="password" id="password_confirmation" formControlName="password_confirmation">
      
      <div *ngIf="password_confirmation?.value !== password?.value && password_confirmation!.value.length || password_confirmation?.value !== password?.value && formDir.submitted" class="validation-error warning-invalid">
        As senhas não coincidem!
      </div>
    </div>

    <div class="form-group">
      <input type="submit" id="submit" value="Cadastrar">
    </div>

  </form>
</div>